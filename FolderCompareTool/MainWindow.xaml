<Window x:Class="FolderCompareTool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:local="clr-namespace:FolderCompareTool"
        mc:Ignorable="d" UseLayoutRounding="True" WindowStartupLocation="CenterScreen"
        Title="重复文件" Height="700" Width="500">
    <Grid Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Margin="0,0,0,5" BorderBrush="{DynamicResource BorderBrush}" Background="{DynamicResource SecondaryRegionBrush}" BorderThickness="1" CornerRadius="4">
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <ComboBox Grid.Column="0" hc:InfoElement.Title="比较模式" Width="130" SelectedIndex="{Binding Source={x:Static local:GlobalDataHelper.appConfig}, Path=CompareMode}" Style="{StaticResource ComboBoxExtend}" hc:InfoElement.Necessary="True">
                    <ComboBoxItem Content="文件名"/>
                    <ComboBoxItem Content="文件名与哈希值"/>
                </ComboBox>
                <hc:NumericUpDown Grid.Column="1" Margin="5,0,0,0" hc:InfoElement.Title="文件名容差" Width="100" Value="{Binding Source={x:Static local:GlobalDataHelper.appConfig}, Path=FileNameTolerance}" Maximum="5" Minimum="0" Style="{StaticResource NumericUpDownExtend}" hc:InfoElement.Necessary="True"/>
                <Button Grid.Column="3" x:Name="CompareBT" Height="48" Width="48" Style="{StaticResource ButtonPrimary}" Content="确定" Click="CompareBT_Click"/>
            </Grid>
        </Border>
        <Border Grid.Row="1" BorderBrush="{DynamicResource BorderBrush}" Background="{DynamicResource SecondaryRegionBrush}" BorderThickness="1" CornerRadius="4">
            <Grid Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <DockPanel Grid.Row="0" Margin="0,0,0,5">
                    <Button DockPanel.Dock="Right" x:Name="Folder1SelBT" Click="Folder1SelBT_Click" Style="{StaticResource ButtonIcon}" hc:IconElement.Geometry="{StaticResource SelectFolder}" Foreground="{DynamicResource PrimaryBrush}"/>
                    <hc:TextBox x:Name="Folder1TB" hc:InfoElement.Placeholder="文件夹1" Margin="0,0,5,0" Text="D:\Downloads"/>
                </DockPanel>
                <DockPanel Grid.Row="1" Margin="0,0,0,5">
                    <Button DockPanel.Dock="Right" x:Name="Folder2SelBT" Click="Folder2SelBT_Click" Style="{StaticResource ButtonIcon}" hc:IconElement.Geometry="{StaticResource SelectFolder}" Foreground="{DynamicResource PrimaryBrush}"/>
                    <hc:TextBox x:Name="Folder2TB" hc:InfoElement.Placeholder="文件夹2" Margin="0,0,5,0" Text="E:\H资源"/>
                </DockPanel>
                <ListBox Grid.Row="2" x:Name="FileLB" Style="{StaticResource ListBox.Small}" SelectionMode="Extended">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem" BasedOn="{StaticResource ListBoxItemBaseStyle.Small}">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                            <EventSetter Event="MouseDoubleClick" Handler="FileLBItem_MouseDoubleClick"/>
                        </Style>
                    </ListBox.ItemContainerStyle>
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="auto"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Text="{Binding FileName1}"/>
                                <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="{Binding FilePath1}" Opacity=".5"/>
                                <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="{Binding FilePath2}" Opacity=".5"/>
                                <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10" Text="{Binding FileSize1, StringFormat={}　文件大小 {0}}" Opacity=".5"/>
                                <TextBlock Grid.Column="1" Grid.Row="2" FontSize="10" Text="{Binding FileSize2, StringFormat={}　文件大小 {0}}" Opacity=".5"/>
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Grid>
        </Border>
    </Grid>
</Window>
